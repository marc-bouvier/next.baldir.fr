---
title: √Ä la d√©couverte de Data.subvention
date: 2024-10-21T14:38:23+02:00
tags:
  - Candidature-en-public
  - Open-source
description: "D√©couvrons la startup d'√©tat ‚ÄúData.subvention‚Äù: sa mission, sa base de code. Embarquons-nous comme si c‚Äô√©tait notre premier jour."
draft: false
---
Je poursuis ma qu√™te pour travailler dans des organisations √† fort impact social.
Cet article est le compagnon du stream de [candidature en public](/glossaire/candidature-en-public)

## Contexte

> ### **üéØ La mission propos√©e**
> 
> Tu participeras activement au d√©veloppement de la solution Data.Subvention agissant en √©quipe pour d√©velopper l‚ÄôAPI et le client web en suivant une m√©thodologie agile.¬†
> 
> Les technologies utilis√©es sont :
> 
> - TypeScript
> - Express
> - MongoDB
> - Svelte
> - Jest
> 
> Le projet est g√©r√© via¬†[GitHub](https://github.com/betagouv/api-subventions-asso/projects/1).
> 
> L‚Äô√©quipe fonctionne en cycles courts rythm√©s par des rituels quotidiens. La gestion de l‚Äô√©quipe se veut horizontale. √ätre autonome sur les t√¢ches √† r√©aliser et s‚Äôimpliquer dans la conception du produit font partie de la mission.
> 
> Tu pourras √™tre en contact avec d‚Äôautres services techniques internes √† l‚Äô√âtat ainsi que des utilisateurs dans un but d‚Äôam√©lioration continue de nos outils.
> 
> Tous les membres de l‚Äô√©quipe vivent dans des villes diff√©rentes et travaillent essentiellement √† distance. Tu auras la possibilit√© de te rendre sur le site de Beta.Gouv si tu le souhaites (Paris 7√®me).
> 
> Des s√©minaires r√©unissant toute l‚Äô√©quipe sont organis√©s en pr√©sentiel sur un format court (2 jours-2 nuits) tous les 4 mois environ.
> 
> **üîé Le profil recherch√©**
> 
> **Tu es :**
> 
> - Capable de g√©rer un ensemble de t√¢ches en autonomie, en √©troite collaboration avec les autres membres de l‚Äô√©quipe aux profils vari√©s (data scientist, d√©veloppeurs, Ux Ui, Communication, Charg√©.e de d√©ploiement)
> - Pr√™t.e √† t‚Äôimpliquer dans la vie de la start-up¬†
> - Anim√©¬∑e par la volont√© d‚Äôam√©liorer le service public
> - Dot√© d‚Äôune exp√©rience d‚Äôau moins 2 √† 3 ans au sein de l‚Äô√©cosyst√®me Beta.Gouv ou de l‚Äôadministration publique, dans un r√¥le similaire
> - A l‚Äô√©coute des autres et √† l‚Äôaise dans la communication orale et √©crite
>     
> 
> **Tu ma√Ætrises :**
> 
> - JavaScript
> - MongoDB ou les bases de donn√©es en g√©n√©ral
> - Svelte ou un autre framework JS
> - Git et l‚Äô√©cosyst√®me GitHub
> - Jest ou une autre librairie de tests
> 
> **C‚Äôest encore mieux si :**
> 
> - Tu as des connaissances en architecture oignon (hexagonale/clean architecture)    
> - Tu as de l‚Äôapp√©tence pour l‚Äôopen source et l‚Äôopen data
> - Tu es sensible √† la s√©curit√© des applications
> - Tu as l‚Äôhabitude de prendre en compte les retours utilisateurs
> ### **üìù Les modalit√©s**
> 
> - Contrat : ind√©pendant
> - TJM :¬† 550‚Äâ‚Ç¨ (voir la¬†[grille de r√©mun√©ration Beta Gouv](https://doc.incubateur.net/communaute/travailler-chez-beta.gouv.fr/les-differents-statuts/independants-freelances/observatoire-revenus#les-tjm-une-base-pour-evaluer-le-prix-dune-prestation))
> - Charge : 4 jours par semaine
> - Dur√©e : 3 mois (renouvelable)
> - D√©but souhait√© : d√©but Octobre 2024
> ### **üöÄ Candidater**
> 
> Partage-nous ton LinkedIn / CV / Github / site par mail √†¬†[contact@datasubvention.beta.gouv.fr](https://doc.incubateur.net/communaute/travailler-chez-beta.gouv.fr/les-differents-statuts/independants-freelances/observatoire-revenus#les-tjm-une-base-pour-evaluer-le-prix-dune-prestation)¬†avec en objet ‚ÄúRecrutement - D√©veloppement full-stack JavaScript‚Äù et raconte-nous :
> 
> - Pourquoi le sujet des subventions aux associations te parle
> - Ce que tu penses pouvoir apporter au projet
> - Ce qui te pla√Æt dans le travail en √©quipe et l‚Äôagilit√©
> 
> √Ä bient√¥t ! üòÄ

Extrait de [la fiche de candidature sur Welcome to the Jungle au 08 octobre 2024](https://www.welcometothejungle.com/fr/companies/communaute-beta-gouv/jobs/developpeur-se-fullstack-javascript-de-la-start-up-d-etat-data-subvention?q=8a4078229b391e9f923f4012c12fdac5&o=7f2854cd-7b1d-4898-90c8-048206441a29)

## D√©couverte de la startup

Lecture de [la mission de la startup](https://beta.gouv.fr/startups/data-subvention.html).

Sans redire tout ce qui est d√©crit dans la fiche de la startup, voici l'essentiel de ce que j'ai retenu.

Data.subvention est une [startup d‚Äô√©tat](/glossaire/startup-d-etat) qui a pour vocation :
- pour les instructeur-ices : de faciliter l‚Äôinstruction de dossiers de subvention pour des associations ;
- pour les associations : de faciliter les demandes de subvention ;

Data.subvention s'appuie sur des donn√©es provenant de diff√©rentes sources de donn√©es.

- Chorus : versements li√©s aux subventions
- Registre National des Associations: pi√®ces administratives des associations
- Le Compte Asso
- ...

Liste compl√®te : https://datasubvention.beta.gouv.fr/article-source-de-donnees-datasubvention/

Pour r√©soudre le probl√®me des instructeurs et des associations, data.subvention s'appuie sur la centralisation et l'aggr√©gation des donn√©es des sources vari√©es.

### Points d'entr√©e

D'apr√®s sa documentation d'API et [le guide d'int√©gration](https://github.com/betagouv/api-subventions-asso/wiki/Documentation-API-&-Guide-d'int%C3%A9gration), Data.subvention consiste en des points d'entr√©e destin√©s √† des [types de comptes diff√©rents](https://github.com/betagouv/api-subventions-asso/wiki/Documentation-API-&-Guide-d'int%C3%A9gration#les-comptes) : des comptes utilisateurs, des comptes consommateurs.

Les comptes utilisateur-ices : les agent-es, les instructeur-ices utilisent [l'outil de consultation](https://app.datasubvention.beta.gouv.fr/), iels se connectent √† l'aide de [AgentConnect](https://www.proconnect.gouv.fr/)

Les comptes consommateurs : les clients logiciel dans des syst√®mes qui veulent utiliser les donn√©es de [l'API](https://api-subvention-asso-prod.osc-secnum-fr1.scalingo.io/)

La fiche de la startup d'√©tat est coh√©rente avec l'offre de Welcome to the jungle :

Enjeux du moment : 
- Compl√©tude : environ un tiers des donn√©es est disponible
  - Donn√©es des versements ‚úÖ
  - Donn√©es des **collectivit√©s**
  - Donn√©es des **op√©rateurs**

Enjeux : **confiance** dans les donn√©es

Personas:
- Instructeurs ‚úÖ
- Pilotes
- Contr√¥leurs

## Dive in - rentrons dans le code

https://github.com/betagouv/api-subventions-asso

```sh
git clone git@github.com:betagouv/api-subventions-asso.git
```

Je note au fur et √† mesure ce que j'observe dans le code

| Capacit√©                           | Outil / pratique / version |
| ---------------------------------- | -------------------------- |
| D√©ploiement                        | Scalingo                   |
| API doc                            | OpenApi 3.0                |
| Observabilit√©                      | Sentry                     |
| Node                               | 18                         |
| Client REST                        | Axios                      |
| Monorepo                           | Lerna                      |
| Release                            | Conventional commit        |
| Pre-commit hook                    | Husky                      |
| V√©rification des mesages de commit | commitlint                 |
| CI-CD                              | Github Actions             |
| Framework frontend                 | Svelte                     |
| Design System                      | DSFR                       |
| Lib Design-System                  | @gouvfr/dsfr               |
| Svelte                             | 4.2                        |
| Test browser                       | Playwright                 |
| Events                             | SSE                        |

Intuition : Changelog tr√®s probablement construit avec conventional commit.

Github bots pour donner du feedback dans les PR. Covbot.

supertest ? (deja utilis√© dans nestjs)

Des tests automatis√©s avec Jest / vitest.

La documentation d'API semble g√©n√©r√©e depuis le code.

Route `/` quelques infos sur l'API:
- [Documentation API & Guide d'int√©gration](https://github.com/betagouv/api-subventions-asso/wiki/Documentation-API-&-Guide-d'int%C3%A9gration)

Dto : Types si on souhaite s'int√©grer avec Typescript

## Modules du monorepo
### Dto



- Commentaires en fran√ßais et en anglais
- Noms en franglais
  - en fran√ßais : les termes m√©tiers (ex. Association, Personne)
    - Pour la lisibilit√© de l'Open Data
  - en anglais ; les termes g√©n√©riques (ex. request, Search, Provider ...)

### Tools

Readme manque de contexte

Outils pour scrapper des donn√©es
- Osiris
- Annuaire service public

Je n'ai pas trouv√© de tests

### Frontend


Le frontend est une application Svelte.
Elle s'appuie sur l'API. 


Observation : peu de d√©pendances.
Simplicit√©

Les noms de variable sont en anglais m√™me si les termes m√©tier sont en fran√ßais.

Je suis surpris de ce choix. Car il entraine une traduction qui ne me semble pas utile.
Apr√®s √ßa reste un scope assez petit (quelques lignes). Ca ne devrait pas poser de probl√®me d'ambiguit√©.

Cela permet √† des gens non francophones de comprendre le code.

L'arborescence est document√©e.

  
```  
src  
‚îÇ  
‚îî‚îÄ‚îÄ‚îÄlib                                      // Contient tous les composants Svelte m√©tier  
‚îÇ    ‚îÇ                                       ‚îÇ    ‚îî‚îÄ‚îÄ‚îÄcomponents                          // Contient tous les composants Svelte m√©tier  
‚îÇ    ‚îÇ   ‚îÇ                                   ‚îÇ    ‚îÇ   ‚îÇ                                   ‚îÇ    ‚îÇ   ‚îî‚îÄ‚îÄ‚îÄFoo                             // Il existe autant de sous r√©pertoire que de composants "intelligent"  
‚îÇ    ‚îÇ       ‚îÇ   Foo.svelte                  // Composant graphique Svelte (dumb)  
‚îÇ    ‚îÇ       ‚îÇ   Foo.controller.js           // Contr√¥leur qui s'occupe de r√©cup√©rer/calculer la donn√©e renvoy√©e au composant graphique  
‚îÇ    ‚îÇ       ‚îÇ   ...                         ‚îÇ    ‚îÇ                                       ‚îÇ    ‚îî‚îÄ‚îÄ‚îÄcore                                // Contient quelques fichiers "essentiels", comme le connecteur SSE  
‚îÇ    ‚îÇ                                       ‚îÇ    ‚îî‚îÄ‚îÄ‚îÄdsfr                                // Contient tous les composants Svelte li√©s au composant du DSFR  
‚îÇ    ‚îÇ                                       ‚îÇ    ‚îî‚îÄ‚îÄ‚îÄhelpers                             // Contient des helpers sp√©cifiques √† un champ particulier (string, date, etc)  
‚îÇ    ‚îÇ                                       ‚îÇ    ‚îî‚îÄ‚îÄ‚îÄresources                           // Contient les connecteurs (ports) HTTP  
‚îÇ    ‚îÇ                                       ‚îÇ    ‚îî‚îÄ‚îÄ‚îÄservices                            // Contient des services m√©tiers qui ne sont pas li√©s √† un composant ou √† une ressource  
‚îÇ    ‚îÇ                                       ‚îÇ    ‚îî‚îÄ‚îÄ‚îÄstore                               // Contient une liste de stores globaux  
‚îÇ                                            ‚îî‚îÄ‚îÄ‚îÄroutes                                   ‚îÇ    ‚îÇ                                       ‚îÇ    ‚îî‚îÄ‚îÄ‚îÄexample-route                       // nom de la route (voir routing)  
‚îÇ    ‚îÇ   ‚îÇ                                   ‚îÇ    ‚îÇ   ‚îî‚îÄ‚îÄ‚îÄcomponents                      // Contient des composants sp√©cifiques √† la route en question. M√™me architecture que pour les composants dans libs  
‚îÇ    ‚îÇ   ‚îÇ                                   ‚îÇ    ‚îÇ   ‚îî‚îÄ‚îÄ‚îÄ+page.ts                        // Il existe autant de sous r√©pertoire que de composants "intelligent"  
‚îÇ    ‚îÇ   ‚îÇ                                   ‚îÇ    ‚îÇ   ‚îî‚îÄ‚îÄ‚îÄ+page.svelte                    // Il existe autant de sous r√©pertoire que de composants "intelligent"  
‚îÇ    ‚îÇ   ‚îÇ                                   ‚îÇ    ‚îÇ   ‚îî‚îÄ‚îÄ‚îÄ+route.ts                       // Il existe autant de sous r√©pertoire que de composants "intelligent"  
‚îÇ    ‚îÇ                                       ‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ...                                 // Autant de routes que n√©cessaire  
‚îÇ    ‚îÇ                                       ‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ   +error.svelte                    // Page d'erreur (notamment 404)  
‚îÇ    ‚îÇ                                       ‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ   +layout.svelte                   // Contient le layout g√©n√©ral (header, etc)  
‚îÇ    ‚îÇ                                       ‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ   +layout.ts                       // Contient la logique qui doit s'appliquer pour toutes les pages  
                                             ‚îÇ   main.js                                  // Point d'entr√©e de l'application  
‚îÇ   global.css                               // Fichier CSS global  
‚îÇ   app.html                                 // Coquille minimale autour des composants svelte  
‚îÇ   hooks.server.ts                          // Hooks serveur. Permet notammer de sp√©cifier les headers  
```

S√©paration des responsabilit√©s

Composants "intelligents" : vont chercher des donn√©es en s'appuyant sur des controllers

Les controlleurs font passe plat avec des API / Services

Tests

```sh
cd package/front
npm run test
```

```
‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ Unhandled Rejection ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ
Error: Sentry CLI "info" command failed, make sure you have an auth token configured, and your `url` option is correct.
 ‚ùØ _callee2$ ../../node_modules/@sentry/bundler-plugin-core/dist/cjs/index.js:1334:19
 ‚ùØ tryCatch ../../node_modules/@sentry/bundler-plugin-core/dist/cjs/index.js:134:17
 ‚ùØ Generator._invoke ../../node_modules/@sentry/bundler-plugin-core/dist/cjs/index.js:114:24
 ‚ùØ Generator.throw ../../node_modules/@sentry/bundler-plugin-core/dist/cjs/index.js:165:21
 ‚ùØ asyncGeneratorStep ../../node_modules/@sentry/bundler-plugin-core/dist/cjs/index.js:398:24
 ‚ùØ _throw ../../node_modules/@sentry/bundler-plugin-core/dist/cjs/index.js:424:9

```

> [!danger] Erreur lors du lancement des tests
> Lancer les tests front √©choue sans token sentry


Pour le moment je commente le plugin sentry vite pour voir les tests se lancer

`vite.config.ts`

```
import { fileURLToPath } from "url";  
import { readFileSync } from "fs";  
import { sentrySvelteKit } from "@sentry/sveltekit";  
import { sveltekit } from "@sveltejs/kit/vite";  
import { defineConfig, loadEnv } from "vite";  
  
const file = fileURLToPath(new URL("package.json", import.meta.url));  
const json = readFileSync(file, "utf8");  
const pkg = JSON.parse(json);  
  
export default defineConfig(({ mode }) => {  
    const env = loadEnv(mode, process.cwd(), "");  
    return {  
        plugins: [  
            // sentrySvelteKit({  
            //     sourceMapsUploadOptions: {            //         org: "betagouv",            //         project: "data-subvention-front",            //         url: "https://sentry.incubateur.net/",            //         authToken: env.SENTRY_AUTH_TOKEN || env.SENTRY_AUTH_TOKEN,            //         release: pkg.version            //     },            // }),            sveltekit(),  
        ],  
        test: {  
            include: ["src/**/*.{test,spec}.{js,ts}"],  
            globals: true,  
            environment: "jsdom",  
            clearMocks: true,  
            setupFiles: ["src/setuptest.ts"],  
        },  
        optimizeDeps: {  
            include: ["dto"],  
        },  
        build: {  
            commonjsOptions: {  
                include: [/dto/, /node_modules/],  
            },  
        },  
    };  
});
```


Le concept d'adapter semble √™tre ici une couched anticorruption : mapper

Le concept de Port semble √™tre un client d'API qui d√©l√®gue √† un service REST en g√©n√©ral.


### API

Lors de la premi√®re session de candidature en public, j'ai √† peine effleur√© l'API.
Je creuse un peu plus dans la deuxi√®me session (vid√©o √† venir).

| Capacit√©             | Outil / pratique / version |
| -------------------- | -------------------------- |
| Mail                 | Brevo                      |
| Observabilit√©        | Sentry                     |
| Client HTTP          | Axios                      |
| Base de donn√©e cache | MongoDb                    |
| Migrations           | MigrateMongo               |

Observation : On ne fait pas les migrations Arri√®re dans mongo. Peut-√™tre que ce n'est pas grave tant que l'API n'est pas encore stabilis√©e ni trop utilis√©e par des consommateurs tiers.
Quand il y aura plus de consommateurs, pouvoir revenir en arri√®re sur la donn√©e pourra avoir du sens.

Dbo : hypoth√®se : objet data pour mongo

## 2eme partie

La deuxi√®me session de ma d√©couverte de la base de code de data.subvention.

## Exploration du site en production

Explorons le site https://datasubvention.beta.gouv.fr/ et regardons [la courte d√©mo](https://www.loom.com/share/2720a47a15ab4929bfb0ab2059ca3fe5?t=0).

Je suis impressionn√©, en 3 minutes, j'ai une id√©e assez claire de l'utilit√© du service et √† qui il est destin√©.

Cette d√©mon montre les capacit√©s que donne l'outil pour les cat√©gories d'usager actuels : les instructeur-ices.

Les usagers √† venir (pilotes, contr√¥leurs) ne sont propablement pas encore repr√©sent√©s dans cette d√©mo.
## Dashlord

Dashlord permet de grouper les m√©triques des services num√©riques des startups d'√©tat.

https://dashlord.incubateur.net/

## Ma compr√©hension de l'API

https://github.com/orgs/betagouv/projects/38/views/1?pane=issue&itemId=67150218&issue=betagouv%7Capi-subventions-asso%7C2459


> [!question] API : quelle est la diff√©rence entre les `Port` et les `Repository` ?
> Il semble que les ports et les repositories puissent √™tre des MongoRepository. La diff√©rence entre les 2 ne semble pas √™tre technique mais plut√¥t conceptuelle?
> 
 
Batch ? Requ√™tes? ..

Interroger les services distants pour r√©cup√©rer un instantan√© des donn√©es.

Stocker dans mongo.

Mongo est un peu utilis√© comme un cache d√©j√† d√©normalis√© pour √™tre adapt√© √† l'API qu'on fournit.

J'aime bien le fait qu'il y ai des Readme dans le dossier de certains providers !

![Certains data providers ont leur propre fichier Readme qui apporte des subtilit√©s qu'il aurait √©t√© difficile de trouver en premier abord](/public/img/data-subvention-readme-interne-a-provider.png)
Mettre les informations dans le contexte : Living documentation

`modules/providers`

Chaque sous-dossier correspond √† un fournisseur de donn√©es.
Il peut √™tre interrog√© via son fichier `.service.ts`
Celui-ci abstrait la fa√ßon dont est r√©cup√©r√©e la donn√©e.
La donn√©e est persist√©e et d√©normalis√©e dans mongoDb.


`modules/repository.list.ts` : repositories/services mongodb

Les points d'entr√©e:

![Le dossier `interfaces` pr√©sente 4 sous-dossiers correspondant aux types de point d‚Äôentr√©e de l‚ÄôAPI: cli, cron, http, sse ](/public/img/data-subvention-points-d-entree.png)

**Cli** : ligne de commande, elle semble utilis√©e principalement pour synchroniser les donn√©es dans mongodb.

**Cron** : t√¢ches planifi√©es √©galement pour resynchroniser des donn√©es tierces (ex. D√©marches simplifi√©es, Data bretagne)

**Http** : API REST expos√©e, utilis√©e par les clients consommateurs (ex. le frontend : interface de consultation, consommateurs d'open-data).

**SSE** : API en Server side events pour faire des requ√™tes qui peuvent prendre du temps (par exemple parcequ'elles aggr√®gent plusieurs sources de donn√©es en live dont on ne peut pas forc√©ment connaitre le temps de r√©ponse √† l'avance). Elles sont faites en asynchrone et en parall√®le. Le client va ouvrir un canal et √©couter les r√©sultats se construire sous forme de flux jusqu'√† ce que l'ensemble des donn√©es soit r√©cup√©r√©e.


## Lecture du Readme de l'API

Dans [le readme de l'API](https://github.com/betagouv/api-subventions-asso/blob/develop/packages/api/README.md), j'appr√©cie que des d√©finitions de ce qui est entendu sont r√©dig√©es.
Il y a quelques √©l√©ments de contexte qui expliquent certains choix techniques et des pratiques.

J'aime en particulier le fait qu'une d√©finition des tests unitaires ait √©t√© apport√©e dans le contexte du produit. C'est souvent un concept dont la d√©finition varie d'une contexte √† l'autre et d'un individu √† l'autre. Le clarifier est vraiment utile √† mon sens.

Explication des variables d'environnement √† configurer.

Les principales conventions de code son expliqu√©es et les workflow de travail (notamment avec Github)
## Questions m√©tier

- Comment va-t-on √©tendre l'usage pour les nouvelles cat√©gories d'utilisateur-ices?
	- Pilotes
	- Contr√¥leurs
- Comment l'√©quipe de la startupt va communiquer, bin√¥mer, immersion ?

## Questions techniques

Les questions qui me sont venues progressivement sur le plan technique.

Sur quel IAM registre s'appuie l'authentification ?

Hypoth√®se : AgentConnect

config.domains : pour CORS?

code en anglais et termes m√©tier en fran√ßais
Termes m√©tier en fran√ßais traduits en en anglais dans les variables. Curieux d'en savoir un peu plus;
Hypoth√®se : routes en fran√ßais pour l'open-data

API : quelle est la diff√©rence entre les `Port` et les `Repository` ?

Hypoth√®se :  Il semble que les ports et les repositories puissent √™tre des MongoRepository. 

La diff√©rence entre les 2 ne semble pas √™tre technique mais plut√¥t conceptuelle?

## 3 √®me session

2024-10-20

Fork et configuration sur mon laptop

```sh
git clone git@github.com:marc-bouvier/fork-api-subventions-asso.git
```

Installation  de la version de nodejs pin.

```sh
nvm install 18.17
```

Installation des d√©pendances

```sh
npm i
```

Arborescence globale


```sh
tree -d -I 'node_modules|packages/api/node_modules|packages/dto/node_modules|packages/front/node_modules|packages/tools/node_modules'
```

```text
.
‚îî‚îÄ‚îÄ packages
    ‚îú‚îÄ‚îÄ api
    ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ __mocks__
    ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ assets
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ images
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ favicons
    ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ migrations
    ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ src
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ @enums
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ @types
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ authentication
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ configurations
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ dataProviders
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ api
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ dataBretagne
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ __fixtures__
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ rechercheEntreprises
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ db
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ paymentFlat
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ __fixtures__
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ rnaSiren
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ state-budget-program
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ __fixtures__
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ uniteLegalEntreprise
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ uniteLegalImports
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ uniteLegalName
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ decorators
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ entities
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ interfaces
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ cli
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ cron
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ http
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ sse
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ middlewares
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ modules
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ _open-data
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ grant
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ provider
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ @types
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ entities
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ admin-structure
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ entities
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ repositories
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ association-name
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ @types
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ adapters
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ entities
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ associations
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ @types
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ configurations
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ entities
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ repositories
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ data-log
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ __snapshots__
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ entities
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ repositories
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ data-viz
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ paymentFlat
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ __fixtures__
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ documents
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ @types
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ dump
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ __snapshots__
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ repositories
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ etablissements
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ @types
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ grant
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ @types
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ __snapshots__
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ index
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ notify
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ @types
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ outPipes
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ __snapshots__
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ payments
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ @types
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ provider-request
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ @types
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ adapters
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ entities
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ repositories
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ adapters
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ dbo
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ providers
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ @types
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ __fixtures__
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ __mocks__
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ __snapshots__
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ apiAsso
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ __fixtures__
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ adapters
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ __snapshots__
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ dto
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ apiEntreprise
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ @types
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ adapters
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ avisSituationInsee
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ bodacc
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ adapters
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ __snapshots__
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ dto
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ caisseDepots
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ adapters
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ __snapshots__
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ dto
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ chorus
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ @types
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ __fixtures__
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ adapters
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ __snapshots__
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ entities
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ repositories
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ dataBretagne
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ datagouv
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ historyUniteLegal
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ @types
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ __fixtures__
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ adapters
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ parser
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ dauphin
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ __snapshots__
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ adapters
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ __snapshots__
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ dto
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ repositories
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ dbo
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ demarchesSimplifiees
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ @types
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ __fixtures__
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ adapters
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ __snapshots__
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ dto
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ entities
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ queries
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ repositories
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ schemas
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ fonjep
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ @types
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ __fixtures__
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ __snapshots__
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ adapters
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ __snapshots__
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ entities
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ joiners
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ repositories
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ geoApi
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ @types
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ __snapshots__
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ gispro
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ @types
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ entities
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ leCompteAsso
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ @types
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ adapters
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ entities
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ repositories
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ osiris
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ @types
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ adapters
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ __snapshots__
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ entities
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ repositories
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ dboAdapters
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ scdl
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ @types
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ __fixtures__
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ __snapshots__
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ adapters
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ dbo
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ entities
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ repositories
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ subventia
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ @types
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ __fixtures__
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ adapters
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ __snapshots__
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ repositories
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ validators
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ @types
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ uniteLegalEntreprises
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ uniteLegalName
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ rna-siren
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ search
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ @types
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ entities
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ repositories
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ entities
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ stats
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ @types
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ entities
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ joiners
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ migrations
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ repositories
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ __fixtures__
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ __snapshots__
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ subventions
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ @types
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ user
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ @types
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ __fixtures__
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ entities
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ repositories
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ dbo
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ errors
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ services
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îú‚îÄ‚îÄ activation
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îú‚îÄ‚îÄ agentConnect
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îú‚îÄ‚îÄ auth
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îú‚îÄ‚îÄ check
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îú‚îÄ‚îÄ consumer
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îú‚îÄ‚îÄ crud
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îú‚îÄ‚îÄ profile
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ __snapshots__
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îú‚îÄ‚îÄ rgpd
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ __snapshots__
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îú‚îÄ‚îÄ roles
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îî‚îÄ‚îÄ stats
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ shared
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ @types
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ __mocks__
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ __snapshots__
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ adapters
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ errors
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ cliErrors
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ dbError
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ httpErrors
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ NotFoundErrors
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ helpers
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ __snapshots__
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ sse
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ @types
    ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ tests
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ __fixtures__
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ __helpers__
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ __mocks__
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ __snapshots__
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ authentication
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ configurations
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ dataProviders
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ api
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ db
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ __fixtures__
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ interfaces
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ cli
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ __fixtures__
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ __snapshots__
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ cron
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ __snapshots__
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ http
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ __snapshots__
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ modules
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ __snapshots__
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ providers
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ apiEntreprise
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ dauphin-gispro
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ fonjep
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ __fixtures__
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ __snapshots__
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ leCompteAsso
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ __fixtures__
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ osiris
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ __fixtures__
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ user
    ‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îú‚îÄ‚îÄ __fixtures__
    ‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îú‚îÄ‚îÄ __snapshots__
    ‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îî‚îÄ‚îÄ repositories
    ‚îÇ¬†¬† ‚îÇ¬†¬†             ‚îî‚îÄ‚îÄ __snapshots__
    ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ tools
    ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ datagouv
    ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ fonjep
    ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ helpers
    ‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ osiris
    ‚îú‚îÄ‚îÄ dto
    ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ associations
    ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ auth
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ subscriptionForm
    ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ configurations
    ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ consumer
    ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ documents
    ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ etablissements
    ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ geoApi
    ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ grant
    ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ payments
    ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ providers
    ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ rna-siren
    ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ search
    ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ shared
    ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ stats
    ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ user
    ‚îú‚îÄ‚îÄ front
    ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ src
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ lib
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ assets
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ images
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ components
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ AssociationCard
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ Auth
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ AutocompleteSelect
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ DefinePassword
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ Documents
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ components
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ EstablishmentPreview
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ Header
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ InfosLegales
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ MainInfoBanner
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ MultiStepForm
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ SearchBar
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ Stats
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ MonthlyGraph
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ MonthlyGraphTooltip
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ StructureFormStep
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ CentralSubStep
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ DecentralizedSubStep
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ OperatorSubStep
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ RegionField
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ TerritorialCollectivitySubStep
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ __snapshots__
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ StructureTitle
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ SubventionsPaymentsDashboard
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ Modals
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ PaymentTable
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ __snapshots__
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ SubventionTable
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ StatutLabel
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ SubventionsPaymentsStatistique
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ Tables
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ errors
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ core
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ dsfr
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ entities
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ enums
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ errors
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ helpers
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ resources
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ associations
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ __fixtures__
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ entities
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ auth
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ subscriptionForm
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ document
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ establishments
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ __fixtures__
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ types
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ externals
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ geo
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ grants
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ open-source
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ rna-siren
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ payments
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ providers
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ stats
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ subventions
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ users
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ services
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ store
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ types
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ routes
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ (home)
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ error
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ (noAuth)
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ accessibilite
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ cgu
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ contact
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ mentions-legales
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ politique-de-confidentialite
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ statistiques
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ admin
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ domains
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ stats
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ components
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ MonthlyRequestCountByYear
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ TopAssociations
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ users
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ composents
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ MonthlyUserCountByYear
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ UserDistribution
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ create
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ list
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ metrics
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ association
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ [identifier]
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ components
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬†         ‚îú‚îÄ‚îÄ Bodacc
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬†         ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ __snapshots__
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬†         ‚îú‚îÄ‚îÄ Establishments
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬†         ‚îî‚îÄ‚îÄ Stats
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ auth
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ activate
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ [token]
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ __snapshots__
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ components
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îî‚îÄ‚îÄ AgentTypeStep
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îÇ¬†¬†             ‚îî‚îÄ‚îÄ __snapshots__
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ forget-password
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ login
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ reset-password
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ [token]
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ signup
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ etablissement
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ [identifier]
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ components
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬†         ‚îú‚îÄ‚îÄ ContactEtab
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬†         ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ __snapshots__
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬†         ‚îî‚îÄ‚îÄ InfosBancairesEtab
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ search
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ [name]
    ‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ user
    ‚îÇ¬†¬† ‚îÇ¬†¬†         ‚îî‚îÄ‚îÄ profile
    ‚îÇ¬†¬† ‚îÇ¬†¬†             ‚îî‚îÄ‚îÄ components
    ‚îÇ¬†¬† ‚îÇ¬†¬†                 ‚îî‚îÄ‚îÄ ResetPwdModule
    ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ static
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ dsfr
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ files
    ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ tests
    ‚îî‚îÄ‚îÄ tools
        ‚îú‚îÄ‚îÄ osiris-automation
        ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ Osiris
        ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ OsirisPuppeteer
        ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ cleaned_modules
        ‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ signalR
        ‚îî‚îÄ‚îÄ scrapping-lannuaire-service-public

422 directories
```


D√©sactiver Sentry pour lancer les tests.

`packages/front/vite.config.ts`

```ts
import { sveltekit } from "@sveltejs/kit/vite";
import { defineConfig, loadEnv } from "vite";

const file = fileURLToPath(new URL("package.json", import.meta.url));
const json = readFileSync(file, "utf8");
const pkg = JSON.parse(json);

export default defineConfig(({ mode }) => {
    const env = loadEnv(mode, process.cwd(), "");
    return {
        plugins: [
        //    sentrySvelteKit({
        //        sourceMapsUploadOptions: {
        //            org: "betagouv",
        //            project: "data-subvention-front",
        //            url: "https://sentry.incubateur.net/",
        //            authToken: env.SENTRY_AUTH_TOKEN || env.SENTRY_AUTH_TOKEN,
        //            release: pkg.version
        //        },
        //    }),
            sveltekit(),
        ],
        test: {
            include: ["src/**/*.{test,spec}.{js,ts}"],
            globals: true,
            environment: "jsdom",
            clearMocks: true,
            setupFiles: ["src/setuptest.ts"],
        },
        optimizeDeps: {
            include: ["dto"],
        },
        build: {
            commonjsOptions: {
                include: [/dto/, /node_modules/],
            },
        },
    };
});

```


Build le projet


```sh
npm run build
```

> [!sucess]
> ```text
> 
> api-subventions-asso@0.10.3 build
> lerna run build
> 
> lerna notice cli v8.1.3
> 
>    ‚úî  dto:build (3s)
>    ‚úî  api:build (8s)
>    ‚úî  front:build (11s)
> 
> ‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî
> 
>  Lerna (powered by Nx)   Successfully ran target build for 3 projects (14s)
> ```

Lancement des tests pour voir.


```sh
npm test
```

> [!success]
> ```text
> api-subventions-asso@0.10.3 test
> lerna run test
> 
> lerna notice cli v8.1.3
> 
>    ‚úî  dto:test (346ms)
>    ‚úî  tools:test (347ms)
>    ‚úî  front:test (10s)
>    ‚úî  api:test (2m)
> 
> ‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî
> 
>  Lerna (powered by Nx)   Successfully ran target test for 4 projects (2m)
> ```


Configuration des variables d'environnement de l'API.

Comme indiqu√© dans le readme de l'API.

Cr√©ation d'un fichier `.env` √† la racine du projet.
Pour le moment je tente de le mettre √† vide

```sh
# Required variables
# ------------------------------

# 
JWT_SECRET=
MAIL_HOST=
MAIL_PORT=
MAIL_USER=
MAIL_PASSWORD=

# Other variables
# ------------------------------

# To connect to association API
#API_ASSO_URL=
#API_ASSO_TOKEN=

# To specify a database name
#MONGO_DBNAME=datasubvention

# To connect to Entreprise API
#API_ENTREPRISE_TOKEN=

# To use Brevo e-mail services
#API_SENDINBLUE_TOKEN=
#API_SENDINBLUE_CONTACT_LIST=

# To connect ot DAUPHIN
#DAUPHIN_USERNAME=
#DAUPHIN_PASSWORD=

# To use Sentry bug reporting
#SENTRY_AUTH_TOKEN=

```



````md
## Setup

Pour utiliser l'api, vous devez au pr√©alable avoir install√© Node.js et NPM.

Vous devez ensuite installer les d√©pendances avec `npm install`.

Ensuite, il vous faudra cr√©er un fichier .env √† la racine du projet, avec au moins les variables d'environnement suivantes:

-   JWT_SECRET
-   MAIL_HOST
-   MAIL_PORT
-   MAIL_USER
-   MAIL_PASSWORD

Les autres variables utilis√©es sont :

-   API_ASSO_URL
-   API_ASSO_TOKEN

Pour se connecter √† l'API Association

-   MONGO_DBNAME=datasubvention

Pour sp√©cifier le nom de la base de donn√©e

-   API_ENTREPRISE_TOKEN

Pour se connecter √† l'API Entreprise

-   API_SENDINBLUE_TOKEN
-   API_SENDINBLUE_CONTACT_LIST

Pour utiliser les services Brevo (envoi de mail)

-   DAUPHIN_USERNAME
-   DAUPHIN_PASSWORD

Pour se connecter √† DAUPHIN

-   SENTRY_AUTH_TOKEN

Pour utiliser le reporting de bug Sentry

Pour fonctionner l'api doit pouvoir se connecter √† une base de donn√©es mongoDB v4.0 .  
Par d√©faut, elle se connecte √† l'url `mongodb://localhost:27017/api-subventions-asso`.  
Il est possible de param√©trer ces informations dans le fichier .env. Le nom des variables se trouve dans `configurations/mongo.conf.ts`.

Vous pouvez utiliser docker pour simplifier l'installation de MongoDB avec les commandes suivantes :  
`sudo docker pull mongo:4.0.3`  
`sudo docker run -d -p 27017:27017 mongo`
````

Lan√ßons en mode dev pour voir :

```sh
npm run dev
```

Ooupsie, j'ai oubli√© de mettre une base de donn√©es mongodb.


Je vais cr√©er un docker-compose pour mongo.

Je vais suivre le guide officiel : 

https://www.mongodb.com/resources/products/compatibilities/docker

Un fichier `docker-compose.yml` minimaliste.

Note : j'ai chang√© le port expos√© (`27117:25017`) pour √©viter des conflits avec d'autres projets.

```yml
services:  
  mongodb:  
    image: mongo:4.0.3  
    environment:  
    ports:  
      - '27117:27017'
```

```sh
docker compose up -d
```

Quelques modifications pour faire fonctionner la base de donn√©es : 

`.env`

```sh
# Required variables  
# ------------------------------  
  
JWT_SECRET=  
MAIL_HOST=  
MAIL_PORT=  
MAIL_USER=  
MAIL_PASSWORD=  
  
# Other variables  
# ------------------------------  
  
# To connect to association API  
#API_ASSO_URL=  
#API_ASSO_TOKEN=  
  
# To specify a database name  
MONGO_DBNAME=datasubvention  
#MONGO_USER=user  
#MONGO_PASSWORD=pass  
MONGO_PORT=27117  
  
# To connect to Entreprise API  
#API_ENTREPRISE_TOKEN=  
  
# To use Brevo e-mail services  
#API_SENDINBLUE_TOKEN=  
#API_SENDINBLUE_CONTACT_LIST=  
  
# To connect ot DAUPHIN  
#DAUPHIN_USERNAME=  
#DAUPHIN_PASSWORD=  
  
# To use Sentry bug reporting  
#SENTRY_AUTH_TOKEN=
```

Il semble qu'il faille que le JWT_SECRET soit renseign√©, comme pr√©vu.

```text
[0] /Users/marco/sources/Baldir/Candidatures/beta-gouv/dinum/fork-api-subventions-asso/node_modules/passport-jwt/lib/strategy.js:45
[0]         throw new TypeError('JwtStrategy requires a secret or key');
[0]               ^
[0] TypeError: JwtStrategy requires a secret or key
[0]     at new JwtStrategy (/Users/marco/sources/Baldir/Candidatures/beta-gouv/dinum/fork-api-subventions-asso/node_modules/passport-jwt/lib/strategy.js:45:15)
[0]     at registerAuthMiddlewares (/Users/marco/sources/Baldir/Candidatures/beta-gouv/dinum/fork-api-subventions-asso/packages/api/src/authentication/express.auth.hooks.ts:49:9)
[0]     at startServer (/Users/marco/sources/Baldir/Candidatures/beta-gouv/dinum/fork-api-subventions-asso/packages/api/src/server.ts:78:34)
[0]     at main (/Users/marco/sources/Baldir/Candidatures/beta-gouv/dinum/fork-api-subventions-asso/packages/api/src/index.ts:13:22)
[0]     at processTicksAndRejections (node:internal/process/task_queues:105:5)
[0] [nodemon] app crashed - waiting for file changes before starting...


```

J'en g√©n√®re un au pif avec https://jwtsecret.com/generate

Et je relance


```sh
npm run dev
```

- Frontend : http://localhost:5173/
- API :  http://localhost:8080

Le site se lance !

![data.subventions dans un navigateur en local](/public/img/data-subvention-localhost.png)


Il faut maintenant que je me connecte.

Je vais voir s'il existe un moyen de se connecter quand on travaille en local.

Dans `packages/api/README.md`

````md

  
### Pour AgentConnect  
  
AgentConnect ne fonctionne pas avec l'url `localhost`. Pour qu'AgentConnect fonctionne, il faut  
  
1. d√©finir les variables d'environnements  
   - AGENT_CONNECT_ENABLED -> `true`  
    - AGENT_CONNECT_CLIENT_ID  
   - AGENT_CONNECT_CLIENT_SECRET  
   - AGENT_CONNECT_URL : https://fca.integ01.dev-agentconnect.fr/api/v2 en local et pr√©prod  
2. mettre en place un alias qui redirige `dev.local` vers `localhost`. Pour cela, ajouter au fichier `/etc/hosts` la ligne  
    ```  
    127.0.0.1 dev.local  
    ```    Dans l'absolu il faut que l'alias corresponde √† ce qui a √©t√© renseign√© lors de la demande des client_id et client_secret utilis√©s.


````

Par d√©faut, AgentConnect ne semble pas activ√©.

https://github.com/marc-bouvier/fork-api-subventions-asso/blob/89c3f61f3edc8509bb2c46a8b7a9cfdfe4bbd2d5/packages/api/src/configurations/agentConnect.conf.ts

Voyons si je peux cr√©er un compte utilisateur localement.


![](/public/img/data-subvention-creer-compte.png)

![](/public/img/data-subvention-signup-error.png)


![](/public/img/data-subvention-localhost-cors-error.png)


Cr√©er un utilisateur

Dans `packages/api`

```sh
export JWT_SECRET=...
export MONGO_PORT=27117
```

```sh
npm run cli user create baldir.fr@gmail.com
 ```

Requ√™te HTTP dans le client HTTP de Webstorm

```text
POST http://localhost:8080/auth/forget-password  
Content-Type: application/json  
  
{  
  "email": "baldir.fr@gmail.com"  
}
```

Token  : 21ZCxnFqUoBvlpGch7cBVNRHPL579iE6

```text
  
POST http://localhost:8080/auth/reset-password  
Content-Type: application/json  
  
{  
  "password": "P@ssw0rd",  
  "token": "21ZCxnFqUoBvlpGch7cBVNRHPL579iE6"  
}

```


![](/public/img/data-subvention-index-page.png)


I'm in !

Ajout du r√¥le `admin` √† mon utilisateur : 

![](/public/img/data-subvention-add-role-admin-mongo.png)




## Sidetracks

Comment faire que la bonne version de nodejs s'installe et switch auto quand je suis dans le dossier ?


